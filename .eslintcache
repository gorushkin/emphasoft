[{"/home/gorushkin/webdev/emphasoft/src/App.js":"1","/home/gorushkin/webdev/emphasoft/src/index.js":"2","/home/gorushkin/webdev/emphasoft/src/pages/AuthPage.jsx":"3","/home/gorushkin/webdev/emphasoft/src/slices/index.js":"4","/home/gorushkin/webdev/emphasoft/src/routes.js":"5","/home/gorushkin/webdev/emphasoft/src/components/AuthForm.jsx":"6","/home/gorushkin/webdev/emphasoft/src/pages/UsersPage.jsx":"7","/home/gorushkin/webdev/emphasoft/src/slices/user.js":"8","/home/gorushkin/webdev/emphasoft/src/slices/users.js":"9","/home/gorushkin/webdev/emphasoft/src/components/UserList.jsx":"10","/home/gorushkin/webdev/emphasoft/src/components/AddNewUserButton.jsx":"11","/home/gorushkin/webdev/emphasoft/src/slices/modal.js":"12","/home/gorushkin/webdev/emphasoft/src/components/modals/Add.jsx":"13","/home/gorushkin/webdev/emphasoft/src/components/modals/index.js":"14","/home/gorushkin/webdev/emphasoft/src/components/modals/userValidator.js":"15","/home/gorushkin/webdev/emphasoft/src/slices/error.js":"16","/home/gorushkin/webdev/emphasoft/src/components/Alert.jsx":"17"},{"size":832,"mtime":1606549344950,"results":"18","hashOfConfig":"19"},{"size":385,"mtime":1606485552000,"results":"20","hashOfConfig":"19"},{"size":544,"mtime":1606550759150,"results":"21","hashOfConfig":"19"},{"size":607,"mtime":1606549309630,"results":"22","hashOfConfig":"19"},{"size":295,"mtime":1606547751590,"results":"23","hashOfConfig":"19"},{"size":1392,"mtime":1606550794280,"results":"24","hashOfConfig":"19"},{"size":887,"mtime":1606550474020,"results":"25","hashOfConfig":"19"},{"size":1313,"mtime":1606550896470,"results":"26","hashOfConfig":"19"},{"size":2352,"mtime":1606550271850,"results":"27","hashOfConfig":"19"},{"size":1402,"mtime":1606549162760,"results":"28","hashOfConfig":"19"},{"size":511,"mtime":1606548999490,"results":"29","hashOfConfig":"19"},{"size":372,"mtime":1606486567560,"results":"30","hashOfConfig":"19"},{"size":4143,"mtime":1606549615890,"results":"31","hashOfConfig":"19"},{"size":111,"mtime":1606486807340,"results":"32","hashOfConfig":"19"},{"size":738,"mtime":1606547240990,"results":"33","hashOfConfig":"19"},{"size":456,"mtime":1606549273400,"results":"34","hashOfConfig":"19"},{"size":703,"mtime":1606550492380,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"39"},"1i0jltk",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"39"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/gorushkin/webdev/emphasoft/src/App.js",["76"],"import React, { useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport AuthPage from './pages/AuthPage';\nimport UsersPage from './pages/UsersPage';\nimport { actions } from './slices';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst App = () => {\n  const { user } = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      dispatch(actions.userInit({ isGuest: false }));\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <div className='container py-3'>\n        <Switch>\n          <Route path='/' exact component={AuthPage} />\n          <Route path='/users' component={user.isGuest ? AuthPage : UsersPage} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n",["77","78"],"/home/gorushkin/webdev/emphasoft/src/index.js",[],["79","80"],"/home/gorushkin/webdev/emphasoft/src/pages/AuthPage.jsx",[],"/home/gorushkin/webdev/emphasoft/src/slices/index.js",[],"/home/gorushkin/webdev/emphasoft/src/routes.js",[],"/home/gorushkin/webdev/emphasoft/src/components/AuthForm.jsx",[],"/home/gorushkin/webdev/emphasoft/src/pages/UsersPage.jsx",["81"],"/home/gorushkin/webdev/emphasoft/src/slices/user.js",[],"/home/gorushkin/webdev/emphasoft/src/slices/users.js",["82"],"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport routes from '../routes';\nimport { actions as errorActions } from './error';\n\nconst getUsers = createAsyncThunk('users/getUsers', async () => {\n  const url = routes.users();\n  try {\n    const token = `Token ${localStorage.getItem('token')}`;\n    const response = await axios.get(url, { headers: { Authorization: token } });\n    const { data } = response;\n    return data;\n  } catch (error) {\n    console.log(error.response.data.non_field_errors.join(''));\n  }\n});\n\nconst addUser = createAsyncThunk(\n  'users/addUser',\n  async ({ username, first_name, last_name, password, is_active }, { rejectWithValue, dispatch }) => {\n    const url = routes.users();\n    try {\n      const token = `Token ${localStorage.getItem('token')}`;\n      const response = await axios.post(\n        url,\n        { username, first_name, last_name, password, is_active },\n        { headers: { Authorization: token } }\n      );\n      const user = response.data;\n      return user;\n    } catch (error) {\n      console.log(error.response.data);\n      const newError = Object.values(error.response.data).join('');\n      const errorMsg = Object.values(error.response.data).join('') || error.message || 'Oops!!!';\n      dispatch(errorActions.showAlert({ error: errorMsg, type: 'danger' }));\n      return rejectWithValue();\n    }\n  }\n);\n\nconst sortMatch = {\n  username: (a, b) => {\n    if (a.username.toLowerCase() < b.username.toLowerCase()) {\n      return -1;\n    }\n    return 1;\n  },\n  id: (a, b) => {\n    if (a.id < b.id) {\n      return -1;\n    }\n    return 1;\n  },\n};\n\nconst slice = createSlice({\n  name: 'users',\n  initialState: {\n    users: [],\n    sortDirections: 'up',\n  },\n  reducers: {\n    setSortBy(state, { payload }) {\n      state.sortBy = payload;\n      state.users = state.users.sort(sortMatch[payload]);\n    },\n\n  },\n  extraReducers: {\n    [getUsers.fulfilled]: (state, { payload }) => {\n      state.users = payload;\n    },\n    [addUser.fulfilled]: (state, { payload }) => {\n      console.log(payload);\n      state.users.push(payload)\n    },\n    [addUser.rejected]: (state, action) => {\n      return state;\n    }\n\n  },\n});\n\nconst actions = { ...slice.actions };\nconst asyncActions = { getUsers, addUser };\nexport { actions, asyncActions };\nexport default slice.reducer;\n","/home/gorushkin/webdev/emphasoft/src/components/UserList.jsx",["83","84"],"import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {actions} from '../slices';\n\n\nconst User = (user) => {\n  return (\n    <tr key={user.id}>\n      <td className='item__id'>{user.id}</td>\n      <td className='item__username'>{user.username}</td>\n      <td className='item__name'>{user.first_name}</td>\n      <td className='item__name'>{user.last_name}</td>\n    </tr>\n  );\n};\n\nconst UserList = () => {\n  const { users } = useSelector((state) => state.users);\n  const dispatch = useDispatch();\n\n  const clickHandler = (sortBy) => (e) => {\n    e.preventDefault();\n    dispatch(actions.setSortBy(sortBy))\n  }\n\n  return (\n    <div className='row'>\n      <table className='col table table-striped table-hover table-responsive-md'>\n        <thead className='table-primary'>\n          <tr>\n            <th className='sort' scope='col'>\n              <a onClick={clickHandler('id')} href='#'>Id</a>\n            </th>\n            <th className='sort'  scope='col'>\n              <a onClick={clickHandler('username')} href='#'>Username</a>\n            </th>\n            <th scope='col'>\n              <span>First name</span>\n            </th>\n            <th scope='col'>\n              <span>Last name</span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>{users.map((user) => User(user))}</tbody>\n      </table>\n    </div>\n  );\n};\nexport default UserList;\n","/home/gorushkin/webdev/emphasoft/src/components/AddNewUserButton.jsx",[],"/home/gorushkin/webdev/emphasoft/src/slices/modal.js",[],"/home/gorushkin/webdev/emphasoft/src/components/modals/Add.jsx",[],"/home/gorushkin/webdev/emphasoft/src/components/modals/index.js",["85"],"import Add from './Add';\n\nconst modals = {\n  adding: Add,\n};\n\nexport default (modalName) => modals[modalName];\n","/home/gorushkin/webdev/emphasoft/src/components/modals/userValidator.js",[],"/home/gorushkin/webdev/emphasoft/src/slices/error.js",[],"/home/gorushkin/webdev/emphasoft/src/components/Alert.jsx",[],{"ruleId":"86","severity":1,"message":"87","line":16,"column":6,"nodeType":"88","endLine":16,"endColumn":8,"suggestions":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","replacedBy":"93"},{"ruleId":"90","replacedBy":"94"},{"ruleId":"92","replacedBy":"95"},{"ruleId":"86","severity":1,"message":"87","line":22,"column":6,"nodeType":"88","endLine":22,"endColumn":8,"suggestions":"96"},{"ruleId":"97","severity":1,"message":"98","line":33,"column":13,"nodeType":"99","messageId":"100","endLine":33,"endColumn":21},{"ruleId":"101","severity":1,"message":"102","line":32,"column":15,"nodeType":"103","endLine":32,"endColumn":56},{"ruleId":"101","severity":1,"message":"102","line":35,"column":15,"nodeType":"103","endLine":35,"endColumn":62},{"ruleId":"104","severity":1,"message":"105","line":7,"column":1,"nodeType":"106","endLine":7,"endColumn":49},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["107"],"no-native-reassign",["108"],"no-negated-in-lhs",["109"],["108"],["109"],["110"],"no-unused-vars","'newError' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",{"desc":"111","fix":"112"},"no-global-assign","no-unsafe-negation",{"desc":"111","fix":"113"},"Update the dependencies array to be: [dispatch]",{"range":"114","text":"115"},{"range":"116","text":"115"},[520,522],"[dispatch]",[651,653]]